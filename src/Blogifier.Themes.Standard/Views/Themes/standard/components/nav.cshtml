@using System.Reflection;
@inject IStringLocalizer<Resource> _localizer
@model MainModel


<nav class="header-nav d-flex">
  <!-- Topics -->
  @if (Model.Main.Categories.Any())
  {
    <div class="dropdown me-auto me-md-0">
      <button class="header-nav-link" type="button" id="mainNav" data-bs-toggle="dropdown" aria-expanded="false">
        <span class="me-1">@_localizer["categories"]</span>
        @Html.Raw(Assets.SvgCategories)
      </button>

      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="mainNav">
        @{
          var categoryUrl = Url.Content("~/category");
          foreach (var item in Model.Main.Categories)
          {
            <li><a class="dropdown-item" href="@categoryUrl/@item.Category">@item.Category</a></li>
          }
        }
      </ul>
    </div>
  }
  <!--/Topics -->
  <!-- Social -->
  <ul class="social d-flex ms-2" aria-label="@_localizer["social-accounts"]">
    <li>
      <a class="social-link-github header-nav-button" href="https://github.com/" target="_blank" aria-label="@_localizer["github"]">
        @Html.Raw(Assets.SvgGithub)
      </a>
    </li>
    <li>
      <a class="social-link-twitter header-nav-button" href="https://twitter.com/" target="_blank" aria-label="@_localizer["twitter"]">
        @Html.Raw(Assets.SvgTwitter)
      </a>
    </li>
    <li>
      <a class="social-link-facebook header-nav-button" href="https://facebook.com" target="_blank" aria-label="@_localizer["facebook"]">
        @Html.Raw(Assets.SvgFacebook)
      </a>
    </li>
    <li>
      <a class="social-link-youtube header-nav-button" href="https://youtube.com/" target="_blank" aria-label="@_localizer["youtube"]">
        @Html.Raw(Assets.SvgYoutube)
      </a>
    </li>
    <li>
      <a class="social-link-instagram header-nav-button" href="https://instagram.com/" target="_blank" aria-label="@_localizer["instagram"]">
        @Html.Raw(Assets.SvgInstagram)
      </a>
    </li>
  </ul>
  <!--/social -->
  <!-- Search button -->
  <button aria-label="@_localizer["search"]" class="header-nav-button d-none d-md-block" type="button" data-bs-toggle="modal" data-bs-target="#searchModal">
    @Html.Raw(Assets.SvgSearch)
  </button>
  <!--/Search button -->
  <!-- Admin Menu -->
  @if (Model.Main.Claims != null)
  {
    <div class="dropdown">
      <button class="header-nav-link -login ms-4" title="@_localizer["login"]" id="dropdownMenuButton"
              data-bs-toggle="dropdown" aria-expanded="false" aria-label="Admin Menu - John">
        <span class="me-1 d-none d-md-inline">@Model.Main.Claims.NickName</span>
        @Html.Raw(Assets.SvgChevronDown)
      </button>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownMenuButton">
        <li><a class="dropdown-item" href="~/admin/">@_localizer["dashboard"]</a></li>
        <li><a class="dropdown-item" href="~/admin/newsletter/">@_localizer["newsletter"]</a></li>
        <li><a class="dropdown-item" href="~/admin/settings/">@_localizer["settings"]</a></li>
        <li><a class="dropdown-item" href="~/admin/settings/customize/">@_localizer["customize"]</a></li>
        <li><a class="dropdown-item" href="~/account/profile?redirecturi=@Model.Main.PathUrl">@_localizer["edit-profile"]</a></li>
        <li>
          <hr class="dropdown-divider">
        </li>
        <li><a class="dropdown-item" href="~/account/logout">@_localizer["logout"]</a></li>
      </ul>
    </div>
  }
  else
  {
    <a class="header-nav-button -login ms-4" href="~/account" title="@_localizer["login"]" aria-label="@_localizer["login"]" role="button">
      @Html.Raw(Assets.SvgBoxArrowInRight)
    </a>
  }
  <!--/Admin Menu -->
</nav>
